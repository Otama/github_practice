% Created 2016-08-14 日 19:24
\documentclass[a4paper,twoside,twocolumn]{bxjsarticle}
\usepackage{zxjatype}
\usepackage[ipa]{zxjafont}
\usepackage{xltxtra}
\usepackage{amsmath}
\usepackage{newtxtext,newtxmath}
\usepackage{graphicx}
\usepackage{hyperref}
\ifdefined\kanjiskip
\usepackage{pxjahyper}
\hypersetup{colorlinks=true}
\else
\ifdefined\XeTeXversion
\hypersetup{colorlinks=true}
\else
\ifdefined\directlua
\hypersetup{pdfencoding=auto,colorlinks=true}
\else
\hypersetup{unicode,colorlinks=true}
\fi
\fi
\fi

\usepackage{minted}
\author{産業技術大学院大学\\ 中鉢 欣秀}
\date{2016-08-14}
\title{GitHub入門}
\hypersetup{
  pdfkeywords={},
  pdfsubject={},
  pdfcreator={Emacs 24.5.1 (Org mode 8.2.10)}}
\begin{document}

\maketitle
\begin{abstract}
これはGitの初心者が，基礎的なGitコマンドの利用方法から，
GitHubフローに基づく協同開発の方法までを学ぶ演習である．

事前に gitコマンドが利用できる環境を用意しておくこと．
またCUI端末でのshellによる基本的な操作を知っていると
スムーズに演習ができる．

第1章はGit初心者（初めてさわる者）を対象に基礎を学ぶ．
第2章は個人によるGitHubの初歩的な使い方を取り扱う．
第3章ではチームによるGitHubの使い方を知ろう．
\end{abstract}

\section{Git入門}
\label{sec-1}
\subsection{Gitの設定}
\label{sec-1-1}
\subsubsection{Gitコマンドの実行確認}
\label{sec-1-1-1}
\begin{itemize}
\item 端末を操作してGitコマンドを起動してみよう．
\item 次のとおり操作することでGitのバージョン番号が確認できる．
\end{itemize}

\begin{minted}[frame=single,linenos=true]{bash}
git --version
\end{minted}

\subsubsection{名前とメールアドレスの登録}
\label{sec-1-1-2}
\begin{itemize}
\item 名前とメールアドレスを登録しておく
\item 次のコマンドの\$NAMEと\$EMAILを各自の名前とメールアドレスに置き換えて実行せよ
\begin{itemize}
\item 名前はローマ字で設定すること
\end{itemize}
\end{itemize}

\begin{minted}[frame=single,linenos=true]{bash}
git config --global user.name $NAME
git config --global user.email $EMAIL
\end{minted}

\subsubsection{その他の設定と確認方法}
\label{sec-1-1-3}
\begin{itemize}
\item 次のとおり，設定を行っておく
\end{itemize}

\begin{minted}[frame=single,linenos=true]{bash}
git config --global color.ui auto
git config --global push.default simple
\end{minted}

\begin{itemize}
\item ここまでの設定を確認するには
\end{itemize}

\begin{minted}[frame=single,linenos=true]{bash}
git config -l
\end{minted}
\subsection{Gitのリポジトリ}
\label{sec-1-2}
\subsubsection{プロジェクト用のディレクトリ}
\label{sec-1-2-1}
\begin{itemize}
\item プロジェクト用のディレクトリ
\item ソースコードなどのバージョン管理ができるようになる
\item GitHubと連携させることで共同作業ができる
\end{itemize}

\subsubsection{Gitリポジトリを利用するには}
\label{sec-1-2-2}
\begin{itemize}
\item リポジトリを利用する方法には主に2種類ある
\begin{enumerate}
\item git initコマンドで初期化する方法
\item git cloneコマンドでGitHubから入手する方法
\end{enumerate}
\item 本章では1.について解説する．次章からは2.で行う．
\end{itemize}

\subsubsection{Gitリポジトリの初期化方法}
\label{sec-1-2-3}
\begin{itemize}
\item my\_projectディレクトリを作成し，
  Gitリポジトリとして初期化するコマンドは次のとおり．
\end{itemize}

\begin{minted}[frame=single,linenos=true]{bash}
mkdir ~/my_project
cd ~/my_project
git init # Gitリポジトリとして初期化する
\end{minted}

\subsubsection{リポジトリの状態を確認する方法}
\label{sec-1-2-4}
\begin{itemize}
\item 現在のリポジトリの状態を確認するコマンドは次のとおり．
\end{itemize}

\begin{minted}[frame=single,linenos=true]{bash}
git status
\end{minted}

\begin{itemize}
\item このコマンドは頻繁に使用する
\item 何かうまく行かないことがあったら，このコマンドで状態を確認する癖を
つけるとよい
\end{itemize}
\subsection{ブランチの使い方}
\label{sec-1-3}
\subsubsection{ブランチとは}
\label{sec-1-3-1}
\begin{itemize}
\item 
\end{itemize}

\section{未整理}
\label{sec-2}
\subsection{Gitリポジトリ}
\label{sec-2-1}
\subsubsection{基本的な git コマンド}
\label{sec-2-1-1}
新しくブランチを作成してチェックアウトする

\begin{minted}[frame=single,linenos=true]{bash}
git checkout -b some_new_feature
\end{minted}

ブランチをGitHubにpushする

\begin{minted}[frame=single,linenos=true]{bash}
git add .
git commit -m '（作業内容）'
git push -u origin some_new_feature
\end{minted}


\subsection{GitHubとは}
\label{sec-2-2}
\subsubsection{{\bfseries\sffamily TODO} Gitとは}
\label{sec-2-2-1}
\subsubsection{GitHubについて}
\label{sec-2-2-2}
\begin{itemize}
\item ソーシャルコーディングのためのクラウド環境
\begin{itemize}
\item \href{https://github.com/}{GitHub}
\item \href{http://github.co.jp/}{GitHub Japan}
\end{itemize}
\item GitHubが提供する主な機能
\begin{itemize}
\item GitHub flowによる協同開発
\item Pull requests
\item Issue / Wiki
\item コード解析
\end{itemize}
\end{itemize}

\subsubsection{GitHub Flow}
\label{sec-2-2-3}
\begin{itemize}
\item Git-flow
\begin{itemize}
\item GitHub が登場する以前、 Git-flow が提唱された
\item \href{http://nvie.com/posts/a-successful-git-branching-model/}{A successful Git branching model » nvie.com}
\end{itemize}
\item GitHub flow
\begin{itemize}
\item GitHub により、よりシンプルで強力なワークフローが可能に
\item \href{http://scottchacon.com/2011/08/31/github-flow.html}{GitHub Flow – Scott Chacon}
\item \href{https://gist.github.com/Gab-km/3705015}{GitHub Flow (Japanese translation)}
\end{itemize}
\end{itemize}

\subsubsection{{\bfseries\sffamily TODO} [後ろへ] GitHub flow におけるコンフリクトについて}
\label{sec-2-2-4}
\begin{itemize}
\item マージのコンフリクト
\begin{itemize}
\item GitHub に提出した Pull requests が自動的にマージできないこと
\end{itemize}
\item 基本的な対処法
\begin{itemize}
\item コンフリクトは、コードの同じ箇所を複数の人が別々に編集すると発生
\item 初心者は、演習の最初の方では「他人と同じファイルを編集しない」こと
にして、操作になれる
\item 上達したら積極的にコンフリクトを起こしてみて、その解決方法を学ぶ
\item Pull requests でコンフリクトが発生し、自動的にマージできない状態に
なったら、 その PR を送った人がコンフリクトを自分で解消する
\end{itemize}
\end{itemize}
\subsubsection{コラボレーターの追加}
\label{sec-2-2-5}

\begin{itemize}
\item GitHubのリポジトリをブラウザで開く．
\item Settings -> Collaborators を選ぶ
\item メンバーを招待する
\item 招待されたメンバーには確認のメールが届くので，リンクをクリックする
\end{itemize}

\subsubsection{コラボレーターがソースコードを入手する方法}
\label{sec-2-2-6}

下記の「ychubachi」の部分を代表者のアカウント名にする．
\begin{minted}[frame=single,linenos=true]{bash}
git clone ychubachi/ychubachi_2016_gem
\end{minted}

\begin{enumerate}
\item プルリクエストとマージ
\label{sec-2-2-6-1}

\begin{itemize}
\item ブランチがGitHubに登録されたことを確認し，Pull requestを作成する
\item Pull requestのレビューが済んだらマージする
\end{itemize}

\item ローカルのmaster を最新版にする
\label{sec-2-2-6-2}

\begin{itemize}
\item GitHubで行ったマージをローカルに反映させる
\end{itemize}

\begin{minted}[frame=single,linenos=true]{bash}
git checkout master
git pull
\end{minted}
\end{enumerate}

\subsubsection{GitHubでのコンフリクトの解消方法}
\label{sec-2-2-7}
\begin{enumerate}
\item 前提
\label{sec-2-2-7-1}
\begin{itemize}
\item new\_feature ブランチで作業中であり、最新の更新は commit 済
\end{itemize}

\item 操作（一例）
\label{sec-2-2-7-2}

\begin{minted}[frame=single,linenos=true]{bash}
git checkout master         # master をチェックアウト
git pull origin master      # 手元の master を最新版にする
git checkout new_feature    # 作業中のブランチに戻る
git merge master            # この後、コンフリクトを修正する
git push origin new_feature # 作業中のブランチを再度、push
\end{minted}
\end{enumerate}


\subsubsection{Gemの作成からGitHubへの登録まで}
\label{sec-2-2-8}

\begin{minted}[frame=single,linenos=true]{bash}
bundle gem ychubachi_2016_gem
cd ychubachi_2016_gem/
git commit -m 'Initial commit'
git create
git push -u origin master
\end{minted}

\section{演習}
\label{sec-3}
\subsection{ペアで行う GitHub}
\label{sec-3-1}
\subsubsection{ペアで GitHub を使ってみよう}
\label{sec-3-1-1}
\begin{enumerate}
\item 隣同士でペアを組む
\item レポジトリを作成する（どちらか一方）
\begin{itemize}
\item \texttt{bundle gem} でひな形を作る（初心者は Gem でなくても良い）
\end{itemize}
\item レポジトリの Collaborators に登録する
\item レポジトリに対して、次のことを行う
\begin{itemize}
\item Pull requests を利用してみる
\item Issue を利用してみる
\item Wiki を利用してみる
\end{itemize}
\end{enumerate}
\subsubsection{課題1}
\label{sec-3-1-2}
\begin{enumerate}
\item Pull request \& merge の作業を各自5回以上行う
\begin{itemize}
\item ディスカッションやコードレビューもやってみる
\end{itemize}
\item Issue を5個以上登録する
\begin{itemize}
\item Pull request による Issue の close なども試す
\end{itemize}
\item Wiki でページを作成する
\begin{itemize}
\item ページを5つ程度作成して、リンクも貼る
\end{itemize}
\item 以上が終わったペアはグループでの演習に進む
\begin{itemize}
\item 講師に申告すること
\end{itemize}
\end{enumerate}

\subsection{グループで行う GitHub}
\label{sec-3-2}
\subsubsection{課題：グループで GitHub (1)}
\label{sec-3-2-1}
\begin{enumerate}
\item ペアを2つ組み合わせて4人グループを作成する
\begin{itemize}
\item 課題1が終わったペアから順番にグループ編成
\end{itemize}
\item 作りたい Gem について相談して仕様を決める
\begin{itemize}
\item テーマはなんでも良い
\begin{itemize}
\item Web API を利用したコマンドラインツールなど
\end{itemize}
\item ある程度の役割分担も決めておく
\end{itemize}
\item レポジトリを作成する（代表者1名）
\begin{itemize}
\item コラボレーターを追加する
\end{itemize}
\item 今まで学んだ知識を活用して Gem を開発する
\end{enumerate}
\subsubsection{課題：グループで GitHub (2)}
\label{sec-3-2-2}
\begin{enumerate}
\item グルーブメンバーでGemを共同で作成する
\item GitHub Flow の実践
\item Travis CI によるテストの自動化
\item RubyGems.org への自動ディプロイ
\item その他、GitHub の各種機能の活用
\end{enumerate}

\section{Git解説}
\label{sec-4}
\subsection{解説}
\label{sec-4-1}
\begin{itemize}
\item gitにはブランチ（branch）の概念がある
\item 最初にあるのはmasterブランチ
\item masterは一番大切なブランチであり，常に正常に動作する状態にする
\item 新しい作業を開始するときは必ず新しいbranchを作る
\item 後に，作業内容をmasterに取り込む（merge）
\end{itemize}
\section{Git演習}
\label{sec-5}
\subsection{ブランチの作成}
\label{sec-5-1}
\subsubsection{課題}
\label{sec-5-1-1}

「new\_feature」ブランチを作成せよ

\begin{minted}[frame=single,linenos=true]{bash}
git checkout -b new_feature
\end{minted}

\subsubsection{確認}
\label{sec-5-1-2}
\begin{itemize}
\item 方法1) git status の結果の一行目が「On brunch new\_feature」になっていること
\item 方法2) git status の一行目が「On brunch new\_feature」になっていること
\end{itemize}


\section{GitHub演習（個人）}
\label{sec-6}
\subsection{アカウントの作成}
\label{sec-6-1}
\subsubsection{課題}
\label{sec-6-1-1}
\href{https://github.com/}{GitHub} にアカウントを作成せよ
\subsubsection{提出}
\label{sec-6-1-2}
TODO: Google form
% Emacs 24.5.1 (Org mode 8.2.10)
\end{document}